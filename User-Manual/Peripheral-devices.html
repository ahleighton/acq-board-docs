

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peripheral devices &#8212; Open Ephys Acquisition Board</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/_static/theme_overrides.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Computer hardware" href="Computer-hardware.html" />
    <link rel="prev" title="Cables" href="Cables.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    
    <a class="navbar-brand" href="../index.html">
      <img src="../_static/oe_logo_acq_board.svg" class="logo" alt="logo">
    </a>
    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item active">
            <a class="nav-link" href="index.html">User Manual</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../Build-Instructions/index.html">Build Instructions</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../Tutorials/index.html">Tutorials</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../FAQ/index.html">FAQs</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://open-ephys.org">Open Ephys<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/open-ephys" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/openephys" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>


<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
        
          
              <li class="">
                  <a href="Quickstart-guide.html">Quickstart guide</a>
              </li>
          
        
          
              <li class="">
                  <a href="How-it-works.html">How it works</a>
              </li>
          
        
          
              <li class="">
                  <a href="Acquisition-system-parts.html">Other equipment you will need</a>
              </li>
          
        
          
              <li class="">
                  <a href="Electrodes.html">Compatible electrodes</a>
              </li>
          
        
          
              <li class="">
                  <a href="Headstages.html">Headstages</a>
              </li>
          
        
          
              <li class="">
                  <a href="Cables.html">Cables</a>
              </li>
          
        
          
              <li class="active">
                  <a href="">Peripheral devices</a>
              </li>
          
        
          
              <li class="">
                  <a href="Computer-hardware.html">Computer hardware</a>
              </li>
          
        
          
              <li class="">
                  <a href="Acquisition-software.html">Acquisition software</a>
              </li>
          
        
      
      
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#open-ephys-i-o-board" class="nav-link">Open Ephys I/O Board</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#analog-digital-inputs-and-outputs" class="nav-link">Analog/Digital Inputs and Outputs</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#analog-output" class="nav-link">Analog Output</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#analog-input" class="nav-link">Analog Input</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h4">
            <a href="#changing-the-analog-input-range" class="nav-link">Changing the Analog Input Range</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#digital-output" class="nav-link">Digital Output</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#digital-input" class="nav-link">Digital Input</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#hdmi-breakout-boards" class="nav-link">HDMI Breakout Boards</a>
        </li>
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="peripheral-devices">
<span id="peripheraldevices"></span><h1>Peripheral devices<a class="headerlink" href="#peripheral-devices" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#ioboard"><span class="std std-ref">Open Ephys I/O Board</span></a></p>
<p><a class="reference internal" href="#analogdigitalio"><span class="std std-ref">Analog/Digital Inputs and Outputs</span></a></p>
<p><a class="reference internal" href="#analogout"><span class="std std-ref">Analog Output</span></a></p>
<p><a class="reference internal" href="#analogin"><span class="std std-ref">Analog Input</span></a></p>
<p><a class="reference internal" href="#analoginrange"><span class="std std-ref">Changing the Analog Input Range</span></a></p>
<p><a class="reference internal" href="#digitalout"><span class="std std-ref">Digital Output</span></a></p>
<p><a class="reference internal" href="#digitalin"><span class="std std-ref">Digital Input</span></a></p>
<p><a class="reference internal" href="#hdmibreakout"><span class="std std-ref">HDMI Breakout Boards</span></a></p>
<div class="section" id="open-ephys-i-o-board">
<span id="ioboard"></span><h2>Open Ephys I/O Board<a class="headerlink" href="#open-ephys-i-o-board" title="Permalink to this headline">¶</a></h2>
<p>To sync your neural data with external triggers, use an I/O board to connect up to 8 digital inputs to the acquisition board. Since its internal components are completely passive, the same I/O board can be also be used to relay digital outputs, analog inputs, and analog outputs. However, it can only perform one of these functions at a time, so you will need multiple I/O boards if you want to, for instance, receive both analog and digital inputs.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We use HDMI cables because they are convenient and cheap, but these are not real HDMI ports! Connecting real HDMI devices is likely to cause damage.</p>
</div>
<p>Specifications:</p>
<ul class="simple">
<li><p>8 vertical BNC terminals</p></li>
<li><p>HDMI type A connector</p></li>
<li><p>4.9” x 3.6” PCB</p></li>
</ul>
<p>If you’re interested in building your own I/O Board, follow the instructions <a class="reference internal" href="../Build-Instructions/Assembling-the-IO-board.html#assemblingtheioboard"><span class="std std-ref">here</span></a>.</p>
</div>
<div class="section" id="analog-digital-inputs-and-outputs">
<span id="analogdigitalio"></span><h2>Analog/Digital Inputs and Outputs<a class="headerlink" href="#analog-digital-inputs-and-outputs" title="Permalink to this headline">¶</a></h2>
<p><strong>ADC</strong> = Analog to Digital converter. These are necessary to convert continuous signals arriving at our board into digital signals that are less sensitive to noise and can be read by the FPGA.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>DAC</strong> = Digital to Analog converter. These are used to convert digital signals to analog, for instance if we want a channel of our electrophysiology recording (previously digitized in the headstage) to be played through a speaker.</p>
<div class="section" id="analog-output">
<span id="analogout"></span><h3>Analog Output<a class="headerlink" href="#analog-output" title="Permalink to this headline">¶</a></h3>
<p><strong>Analog outputs are usually used to monitor headstage inputs, for instance by routing ephys channels to an audio output to detect spikes</strong></p>
<p>There are eight analog outputs on the board, which use the 16-bit DAC8531 chip from Texas Instruments. The DACs (Digital to Analog converters) are controlled by the Rhythm interface.</p>
<p><a class="reference external" href="https://open-ephys.github.io/gui-docs/User-Manual/Plugins/Rhythm-FPGA.html#audio-output">If activated in the software</a> , the audio jack on the acquisition board can be used to monitor analog channels 0 and 1 (Left and Right in the audio) by plugging in headphones or speakers. (All channels can also be monitored via audio through the software, using the audio channel selector on a plugin to select the channel you’re interested in).</p>
<p>Any of the channels can be programmed to deliver custom waveforms as well, but this functionality hasn’t been added to the GUI yet.</p>
</div>
<div class="section" id="analog-input">
<span id="analogin"></span><h3>Analog Input<a class="headerlink" href="#analog-input" title="Permalink to this headline">¶</a></h3>
<p><strong>Analog inputs are used for equipment that measures continuous signals, for instance a measurement distance or intensity. This could be anything from a power meter, thermometer, a running wheel, etc.</strong></p>
<p>There are eight analog inputs on the board, which use the 16-bit ADC161S262 chip from Texas Instruments. By sending this data to the acquisition board, the FPGA will timestamp the analog inputs using the same clock as the ephys data and can display the incoming data alongside your ephys.</p>
<div class="section" id="changing-the-analog-input-range">
<span id="analoginrange"></span><h4>Changing the Analog Input Range<a class="headerlink" href="#changing-the-analog-input-range" title="Permalink to this headline">¶</a></h4>
<p>The default setting is to have the ADCs run from -5 to +5V, although in practice the actual range is ±4.5V (up through Acquisition Board version 2.2). If you need to go up to 5V, the ADC must be switched to 0-5V mode. To switch the ADC range, open up the case of the acquisition board and move the jumpers near the ADC input HDMI (marked ‘analog input range selector’) to the two pins farther away from the edge of the board. Different channels can have different jumper settings, so make sure you record which is which! There’s no way for the software to know the setting for each channel. Channel 1 is the rightmost jumper (closer to the headstage inputs), Channel 8 is the leftmost jumper.</p>
<p>There are three settings for the analog input:</p>
<ul class="simple">
<li><p>±5V input sent through an op amp (jumper closer to the edge of the board)</p></li>
<li><p>0-5V input directly from the HDMI connector (jumper farther from the edge of the board)</p></li>
<li><p>0-5V input sent through an op amp (no jumper)</p></li>
</ul>
<img alt="acquisition board PCB" class="align-center" src="../_images/ac_board_pcb.png" />
</div>
</div>
<div class="section" id="digital-output">
<span id="digitalout"></span><h3>Digital Output<a class="headerlink" href="#digital-output" title="Permalink to this headline">¶</a></h3>
<p><strong>Digital outputs are used to send high or low signals and are usually used to send pulses to trigger or synchronise device acquisition.</strong></p>
<p>The acquisition board has eight 5V digital outputs connected to an HDMI connector. These interface with a level shifter (Texas Instruments SN74LVC4245A) to allow the 3.3V outputs of the FPGA to send 5V signals out of the acquisition board. There are eight additional outputs in the Rhythm firmware, which are connected to holes on the bottom of the board.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, the digital outputs of the Acquisition Board are not part of the Open Ephys GUI. Because the system has been designed to optimize the transfer of data from the board via USB to the pc (rather than in the opposite direction), the delay between the software and the acquisition board is, at the moment, variable and unpredictable. The digital outputs will be added to the next major release of the Open Ephys GUI.</p>
</div>
<p>In the meantime, we recommend using a microcontroller to send precisely timed TTL outputs to trigger external devices, as done <a class="reference internal" href="../Tutorials/Ephys-with-behavioural-camera.html#ephyswithbehaviouralcam"><span class="std std-ref">here</span></a>. The Open Ephys GUI can communicate with microcontrollers through, for instance, the <a class="reference external" href="https://open-ephys.github.io/gui-docs/User-Manual/Plugins/Arduino-Output.html">Arduino Output</a> node.</p>
</div>
<div class="section" id="digital-input">
<span id="digitalin"></span><h3>Digital Input<a class="headerlink" href="#digital-input" title="Permalink to this headline">¶</a></h3>
<p><strong>Digital inputs are used to synchronize acquisition across multiple tools.</strong></p>
<p>In contrast to the analog inputs, digital inputs can only receive ‘high’ or ‘low’ signals. Peripheral devices can send a short ‘high’ pulse every time they make a measurement. By sending that pulse to the acquisition board, the FPGA will timestamp the moment of the pulse using the same clock as the ephys data, allowing precise synchronization of the recordings. The acquisition board has eight 5V digital inputs connected to an HDMI connector. These interface with a level shifter (Texas Instruments SN74LVC4245A) to prevent 5V inputs from damaging the FPGA (which runs on a 3.3V supply). There are eight additional inputs that can be detected by the Rhythm firmware, which are connected to holes on the bottom of the board.</p>
</div>
</div>
<div class="section" id="hdmi-breakout-boards">
<span id="hdmibreakout"></span><h2>HDMI Breakout Boards<a class="headerlink" href="#hdmi-breakout-boards" title="Permalink to this headline">¶</a></h2>
<p>There are also a variety of simple HDMI breakout boards available from various vendors - these work equivalently as I/O boards. See for instance <a class="reference external" href="https://elabbay.myshopify.com/collections/breadboard/products/elabguy-hdmi-af-bo-v1a-hdmi-type-a-female-socket-breakout-board">here</a>.</p>
<p><strong>HMDI channel mapping</strong>:
| 1     DATA2+
| 2     DATA2–
| 3     DATA1+
| 4     DATA1–
| 5     DATA0+
| 6     DATA0–
| 7     CLOCK+
| 8     CLOCK–</p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="Cables.html" title="previous page">Cables</a>
    <a class='right-next' id="next-link" href="Computer-hardware.html" title="next page">Computer hardware</a>

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2010-2021, Open Ephys &amp; Contributors.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>